import{j as e,S as d,z as g}from"./index-BDMXBHNM.js";import{r as o}from"./reactrouter-DPorlkB3.js";import{R as h}from"./Repos-U_mdCU-L.js";import"./Repo-FiYEzRGL.js";import"./function-BBXwl1Jc.js";const u=[{src:"/javascript.svg",alt:"JavaScript",language:"javascript"},{src:"/typescript.svg",alt:"TypeScript",language:"typescript"},{src:"/c++.svg",alt:"C++",language:"c++"},{src:"/python.svg",alt:"Python",language:"python"},{src:"/java.svg",alt:"Java",language:"java"}],j="/api/explore",E=()=>{const[l,n]=o.useState(!1),[i,c]=o.useState([]),[a,p]=o.useState(""),x=async r=>{if(r!==a){n(!0),c([]);try{const s=await fetch(`${j}/${r}`);if(!s.ok){const m=await s.json().catch(()=>({message:"Unknown error"}));throw new Error(`API Error: ${m.message}`)}const{repos:t}=await s.json();if(!(t!=null&&t.length))throw new Error(`No ${r} repositories found`);c(t),p(r)}catch(s){g.error(s.message)}finally{n(!1)}}};return e.jsx("div",{className:"px-4",children:e.jsxs("div",{className:"bg-glass max-w-2xl mx-auto rounded-md p-4",children:[e.jsx("h1",{className:"text-xl font-bold text-center mb-4",children:"Explore Popular Repositories"}),e.jsx("div",{className:"flex flex-wrap gap-2 my-2 justify-center",children:u.map(({src:r,alt:s,language:t})=>e.jsx("button",{onClick:()=>x(t),className:"hover:opacity-75 transition-opacity","aria-label":`Explore ${s} repositories`,children:e.jsx("img",{src:r,alt:s,className:"h-11 sm:h-20",title:`Explore ${s} repositories`})},t))}),i.length>0&&e.jsxs("h2",{className:"text-lg font-semibold text-center my-4",children:[e.jsx("span",{className:"bg-blue-100 text-blue-800 font-medium me-2 px-2.5 py-0.5 rounded-full",children:(a||"Unknown").toUpperCase()}),"Repositories"]}),l?e.jsxs("div",{className:"text-center",children:[e.jsx(d,{}),e.jsxs("p",{className:"mt-2 text-gray-600",children:["Fetching ",a," repositories..."]})]}):e.jsx(h,{repos:i})]})})};export{E as default};
