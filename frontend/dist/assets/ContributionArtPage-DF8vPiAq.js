import{j as e,z as c}from"./index-BDMXBHNM.js";import{r as p}from"./reactrouter-DPorlkB3.js";var O={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const W=m=>m.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),B=(m,x)=>{const j=p.forwardRef(({color:P="currentColor",size:o=24,strokeWidth:u=2,absoluteStrokeWidth:v,children:y,...d},h)=>p.createElement("svg",{ref:h,...O,width:o,height:o,stroke:P,strokeWidth:v?Number(u)*24/Number(o):u,className:`lucide lucide-${W(m)}`,...d},[...x.map(([k,z])=>p.createElement(k,z)),...(Array.isArray(y)?y:[y])||[]]));return j.displayName=`${m}`,j};var N=B;const H=N("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),w=N("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]),T=N("Puzzle",[["path",{d:"M19.439 7.85c-.049.322.059.648.289.878l1.568 1.568c.47.47.706 1.087.706 1.704s-.235 1.233-.706 1.704l-1.611 1.611a.98.98 0 0 1-.837.276c-.47-.07-.802-.48-.968-.925a2.501 2.501 0 1 0-3.214 3.214c.446.166.855.497.925.968a.979.979 0 0 1-.276.837l-1.61 1.61a2.404 2.404 0 0 1-1.705.707 2.402 2.402 0 0 1-1.704-.706l-1.568-1.568a1.026 1.026 0 0 0-.877-.29c-.493.074-.84.504-1.02.968a2.5 2.5 0 1 1-3.237-3.237c.464-.18.894-.527.967-1.02a1.026 1.026 0 0 0-.289-.877l-1.568-1.568A2.402 2.402 0 0 1 1.998 12c0-.617.236-1.234.706-1.704L4.23 8.77c.24-.24.581-.353.917-.303.515.077.877.528 1.073 1.01a2.5 2.5 0 1 0 3.259-3.259c-.482-.196-.933-.558-1.01-1.073-.05-.336.062-.676.303-.917l1.525-1.525A2.402 2.402 0 0 1 12 1.998c.617 0 1.234.236 1.704.706l1.568 1.568c.23.23.556.338.877.29.493-.074.84-.504 1.02-.968a2.5 2.5 0 1 1 3.237 3.237c-.464.18-.894.527-.967 1.02Z",key:"i0oyt7"}]]),G=N("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),C=N("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]),J=N("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),Z=()=>{var D;const[m,x]=p.useState([]),[j,P]=p.useState(null),[o,u]=p.useState({imageName:"",targetImage:"",totalCommitsRequired:365,commitsPerDay:1,puzzleType:"combined",repository:null}),[v,y]=p.useState([]),[d,h]=p.useState(null),[k,z]=p.useState({}),E=async()=>{try{const s=await(await fetch("/api/contribution-art/puzzles/current-user")).json();s.success&&x(s.data)}catch(t){console.error("Error loading puzzles:",t)}},R=async()=>{try{const t=await fetch("/api/auth/check",{credentials:"include"});if(t.ok){const n=await t.json();if(n.user&&n.user.username){const r=n.user.username,l=await fetch(`/api/users/profile/${r}`);if(l.ok){const f=await l.json();if(f.repos&&Array.isArray(f.repos)){const g=f.repos.slice(0,20).map(b=>({id:b.id,name:b.name,full_name:b.full_name,description:b.description,language:b.language,stargazers_count:b.stargazers_count,html_url:b.html_url}));y(g),console.log("Loaded user repos:",g.length);return}}}}const s=["javascript","python","java","typescript"],a=[];for(const n of s)try{const l=await(await fetch(`/api/explore/${n}`)).json();if(l.repos&&Array.isArray(l.repos)){const f=l.repos.slice(0,5).map(g=>({id:g.id,name:g.name,full_name:g.full_name,description:g.description,language:g.language,stargazers_count:g.stargazers_count,html_url:g.html_url}));a.push(...f)}}catch(r){console.error(`Error loading ${n} repos:`,r)}const i=a.filter((n,r,l)=>r===l.findIndex(f=>f.id===n.id)).slice(0,20);y(i),console.log("Loaded fallback repos:",i.length)}catch(t){console.error("Error loading repos:",t),y([{id:1,name:"sample-repo",full_name:"user/sample-repo",description:"A sample repository for testing",language:"JavaScript",stargazers_count:42,html_url:"https://github.com/user/sample-repo"}])}},S=async()=>{if(console.log("Creating puzzle with data:",o),!o.imageName){c.error("Please enter a puzzle name");return}if(!o.targetImage&&!o.repository){c.error("Please upload an image or select a repository");return}try{const t={userId:"current-user",username:"current-user",...o};console.log("Sending payload:",t);const s=await fetch("/api/contribution-art/puzzle",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});console.log("Response status:",s.status);const a=await s.json();console.log("Response data:",a),a.success?(c.success("Puzzle created successfully!",{duration:3e3,style:{background:"#10B981",color:"white",fontSize:"14px",fontWeight:"bold"}}),x([...m,a.data]),u({imageName:"",targetImage:"",totalCommitsRequired:365,commitsPerDay:1,puzzleType:"combined",repository:null})):c.error(a.error||"Failed to create puzzle",{duration:4e3,style:{background:"#EF4444",color:"white",fontSize:"14px",fontWeight:"bold"}})}catch(t){console.error("Error creating puzzle:",t),c.error("Failed to create puzzle")}},M=async(t,s)=>{try{const i=await(await fetch(`/api/contribution-art/puzzle/${t}/progress`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({currentCommits:s})})).json();if(i.success){const n=i.data;if(x(m.map(r=>r._id===t?n:r)),n.isCompleted&&!(j!=null&&j.isCompleted)){const r=["ðŸŽ‰ Amazing! You did it! So proud of your dedication! ðŸŒŸ","ðŸ† Congratulations! Your hard work paid off beautifully! ðŸ’ª","ðŸŽŠ Fantastic achievement! You're unstoppable! ðŸš€","ðŸŒˆ Wow! You completed your challenge! So inspiring! âœ¨","ðŸŽ¯ Mission accomplished! Your commitment is incredible! ðŸ…","ðŸ’« Brilliant work! You've earned every bit of this success! ðŸŒŸ","ðŸŽ¨ Masterpiece completed! Your creativity shines through! ðŸŽ¨","ðŸ”¥ You're on fire! This completion is just the beginning! ðŸ”¥","ðŸ’Ž Precious achievement! Your perseverance is golden! âœ¨","ðŸš€ To the moon and back! Your dedication launched you there! ðŸŒ™"],l=r[Math.floor(Math.random()*r.length)];c.success(l,{duration:8e3,icon:"ðŸŽ‰",style:{background:"linear-gradient(135deg, #10B981, #059669)",color:"white",fontSize:"16px",fontWeight:"bold",border:"2px solid #047857",boxShadow:"0 10px 25px rgba(16, 185, 129, 0.3)"}}),setTimeout(()=>{c.success("ðŸ† Achievement Unlocked: Puzzle Master!",{duration:6e3,icon:"ðŸ†",style:{background:"linear-gradient(135deg, #F59E0B, #D97706)",color:"white",fontSize:"14px",fontWeight:"bold"}})},2e3)}}}catch(a){console.error("Error updating progress:",a)}},A=async()=>{try{const s=await(await fetch("/api/contribution-art/auto-detect-commits/current-user",{method:"POST"})).json();s.success&&(s.updatedPuzzles&&s.updatedPuzzles.length>0?(x(m.map(a=>s.updatedPuzzles.find(n=>n._id===a._id)||a)),c.success(`âœ… Auto-detected commits! Updated ${s.updatedPuzzles.length} puzzle(s)`,{duration:4e3,style:{background:"#3B82F6",color:"white",fontSize:"14px",fontWeight:"bold"}})):c.success("No new commits detected",{duration:3e3,style:{background:"#6B7280",color:"white",fontSize:"14px"}}))}catch(t){console.error("Error auto-detecting commits:",t),c.error("Failed to auto-detect commits",{duration:4e3,style:{background:"#EF4444",color:"white",fontSize:"14px",fontWeight:"bold"}})}},I=t=>{const s=t.target.files[0];if(s){const a=new FileReader;a.onload=i=>{u({...o,targetImage:i.target.result})},a.readAsDataURL(s)}},_=t=>{if(!t)return{percentage:0,remainingCommits:0,remainingDays:0};const s=t.totalCommitsRequired||1,a=t.currentCommits||0,i=t.commitsPerDay||1,n=s>0?Math.min(100,a/s*100):0,r=Math.max(0,s-a),l=i>0?Math.ceil(r/i):0;return{percentage:isNaN(n)?0:n,remainingCommits:isNaN(r)?0:r,remainingDays:isNaN(l)?0:l}},F=t=>{if(!t||t.puzzleType!=="image"||!t.targetImage)return[];const s=_(t),a=20,i=Math.floor(s.percentage/100*a),n=[];for(let r=0;r<a;r++)n.push({id:r,revealed:r<i,row:Math.floor(r/5),col:r%5});return n},$=async t=>{if(confirm("Are you sure you want to delete this puzzle?"))try{(await fetch(`/api/contribution-art/puzzle/${t}`,{method:"DELETE"})).ok?(x(m.filter(a=>a._id!==t)),c.success("Puzzle deleted successfully")):c.error("Failed to delete puzzle")}catch(s){console.error("Error deleting puzzle:",s),c.error("Failed to delete puzzle")}},q=async t=>{try{const a=await(await fetch(`/api/contribution-art/puzzle/${t}/extend`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({extendDays:30})})).json();if(a.success){x(m.map(r=>r._id===t?a.data:r));const i=["ðŸ’ª You got this! 30 more days to shine! ðŸŒŸ","ðŸ”„ Fresh start! Keep pushing forward! ðŸš€","â° Time extended! Your dedication will pay off! ðŸ’Ž","ðŸŽ¯ Another chance! You're capable of amazing things! âœ¨","ðŸŒ± Growth takes time! Keep nurturing your goals! ðŸŒ¿"],n=i[Math.floor(Math.random()*i.length)];c.success(n,{duration:6e3,icon:"â°",style:{background:"linear-gradient(135deg, #3B82F6, #1D4ED8)",color:"white",fontSize:"14px",fontWeight:"bold"}})}else c.error("Failed to extend deadline")}catch(s){console.error("Error extending deadline:",s),c.error("Failed to extend deadline")}},U=t=>{h({...t,imageName:t.imageName,totalCommitsRequired:t.totalCommitsRequired,commitsPerDay:t.commitsPerDay})},Y=()=>{h(null)},L=async()=>{if(d)try{const s=await(await fetch(`/api/contribution-art/puzzle/${d._id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({imageName:d.imageName,totalCommitsRequired:d.totalCommitsRequired,commitsPerDay:d.commitsPerDay})})).json();s.success?(x(m.map(a=>a._id===d._id?s.data:a)),h(null),c.success("Puzzle updated successfully")):c.error("Failed to update puzzle")}catch(t){console.error("Error updating puzzle:",t),c.error("Failed to update puzzle")}};return p.useEffect(()=>{E(),R()},[]),e.jsx("div",{className:"px-4",children:e.jsxs("div",{className:"bg-glass max-w-6xl mx-auto rounded-md p-6",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsxs("div",{className:"flex justify-center items-center mb-4",children:[e.jsx(T,{className:"w-10 h-10 mr-3"}),e.jsx("h1",{className:"text-2xl font-bold",children:"GitHub Puzzle Challenges"})]}),e.jsx("p",{className:"text-gray-600 max-w-2xl mx-auto",children:"Create and complete coding challenges based on your GitHub contributions"})]}),"// Puzzle Challenges Tab",e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-glass rounded-md p-4",children:[e.jsxs("h3",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[e.jsx(G,{className:"w-5 h-5"}),"Create New Puzzle Challenge"]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Puzzle Challenge Options"}),e.jsx("p",{className:"text-xs text-gray-500 mb-3",children:"Choose an image to reveal or a repository to complete"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Puzzle Name"}),e.jsx("input",{type:"text",value:o.imageName,onChange:t=>u({...o,imageName:t.target.value}),placeholder:"Name your challenge",className:"w-full px-3 py-2 bg-gray-800 border border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-white placeholder-gray-400"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Target Commits"}),e.jsx("input",{type:"number",value:o.totalCommitsRequired,onChange:t=>u({...o,totalCommitsRequired:parseInt(t.target.value)}),min:"1",className:"w-full px-3 py-2 bg-gray-800 border border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-white placeholder-gray-400"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Commits Per Day"}),e.jsx("input",{type:"number",value:o.commitsPerDay,onChange:t=>u({...o,commitsPerDay:parseInt(t.target.value)}),min:"1",className:"w-full px-3 py-2 bg-gray-800 border border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-white placeholder-gray-400"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Upload Target Image (Optional)"}),e.jsx("input",{type:"file",accept:"image/*",onChange:I,className:"w-full px-3 py-2 bg-gray-800 border border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 file:mr-4 file:py-1 file:px-3 file:rounded-md file:border-0 file:text-sm file:font-medium file:bg-blue-600 file:text-white hover:file:bg-blue-700 text-white"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Upload an image to reveal as you progress"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Select Repository (Optional)"}),e.jsxs("select",{value:((D=o.repository)==null?void 0:D.full_name)||"",onChange:t=>{const s=t.target.value;if(console.log("Selected repository:",s),!s){u({...o,repository:null});return}const a=v.find(i=>i.full_name===s);console.log("Found repo:",a),a&&u({...o,repository:a})},className:"w-full px-3 py-2 bg-gray-800 border border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-white",children:[e.jsx("option",{value:"",children:"Choose a repository to track..."}),v.map(t=>e.jsxs("option",{value:t.full_name,children:[t.name," (",t.language||"No language",") â­",t.stargazers_count||0]},t.id||t.full_name))]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Select a repository to auto-track commits"})]})]}),(o.targetImage||o.repository)&&e.jsxs("div",{className:"mt-4",children:[e.jsx("p",{className:"text-sm font-medium mb-2",children:"Preview:"}),e.jsxs("div",{className:"flex gap-4 flex-wrap",children:[o.targetImage&&e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("img",{src:o.targetImage,alt:"Puzzle preview",className:"max-w-xs max-h-32 object-contain border border-gray-600 rounded-md"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Target Image"})]}),o.repository&&e.jsxs("div",{className:"bg-glass p-3 rounded-md max-w-xs",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(w,{className:"w-4 h-4"}),e.jsx("span",{className:"font-medium",children:o.repository.name})]}),e.jsx("p",{className:"text-sm text-gray-600",children:o.repository.description}),e.jsxs("p",{className:"text-xs text-gray-500",children:["â­ ",o.repository.stargazers_count," stars"]}),e.jsx("p",{className:"text-xs text-blue-400 mt-1",children:"Auto-commit tracking"})]})]})]}),e.jsxs("button",{onClick:S,className:"mt-4 px-6 py-2 bg-green-600 text-white rounded-md font-medium hover:bg-green-700 transition-colors flex items-center gap-2",children:[e.jsx(J,{className:"w-4 h-4"}),"Create Puzzle"]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("h3",{className:"text-lg font-bold flex items-center gap-2",children:[e.jsx(C,{className:"w-5 h-5"}),"Your Puzzle Challenges"]}),e.jsxs("button",{onClick:A,className:"px-4 py-2 bg-blue-600 text-white rounded-md font-medium hover:bg-blue-700 transition-colors flex items-center gap-2",children:[e.jsx(w,{className:"w-4 h-4"}),"Auto-Detect Commits"]})]}),m.length===0?e.jsxs("div",{className:"text-center py-8 bg-glass rounded-md",children:[e.jsx(T,{className:"w-12 h-12 mx-auto mb-4 text-gray-500"}),e.jsx("p",{className:"text-gray-600",children:"No puzzles yet. Create your first challenge!"})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:m.map(t=>{var a,i,n,r;const s=_(t);return e.jsxs("div",{className:"bg-glass rounded-md p-4",children:[e.jsxs("div",{className:"flex justify-between items-start mb-3",children:[e.jsx("h4",{className:"font-bold",children:t.imageName}),t.isCompleted&&e.jsx(C,{className:"w-5 h-5 text-yellow-500"})]}),t.puzzleType==="image"?e.jsxs("div",{className:"relative mb-3",children:[e.jsx("img",{src:t.targetImage,alt:t.imageName,className:"w-full h-32 object-cover rounded-md"}),!t.isCompleted&&e.jsx("div",{className:"absolute inset-0 grid grid-cols-5 grid-rows-4 rounded-md overflow-hidden",children:F(t).map(l=>e.jsx("div",{className:"relative transition-all duration-500",style:{border:l.revealed?"none":"1px solid rgba(255,255,255,0.1)",backgroundColor:l.revealed?"transparent":"rgba(31, 41, 55, 0.8)",backdropFilter:l.revealed?"none":"blur(2px)"},children:l.revealed?e.jsx("div",{className:"w-full h-full bg-cover bg-no-repeat",style:{backgroundImage:`url(${t.targetImage})`,backgroundPosition:`${l.col*20}% ${l.row*25}%`,backgroundSize:"500% 400%"}}):e.jsx("div",{className:"w-full h-full flex items-center justify-center text-xs text-gray-400 bg-gray-800/60",children:"ðŸ”’"})},l.id))}),t.isCompleted&&e.jsx("div",{className:"absolute inset-0 bg-green-500/20 rounded-md flex items-center justify-center",children:e.jsx("div",{className:"bg-green-600 text-white px-3 py-1 rounded-full text-sm font-medium",children:"âœ… Completed!"})})]}):e.jsxs("div",{className:`bg-gray-800 p-3 rounded-md mb-3 ${t.isCompleted?"border-2 border-green-500":""}`,children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(w,{className:"w-4 h-4"}),e.jsx("span",{className:"font-medium",children:((a=t.repository)==null?void 0:a.name)||"Repository"}),e.jsx("span",{className:"text-xs bg-blue-600 text-white px-2 py-1 rounded ml-2",children:"AUTO-DETECT"}),t.isCompleted&&e.jsx(C,{className:"w-4 h-4 text-yellow-500 ml-auto"})]}),e.jsx("p",{className:"text-sm text-gray-400 mb-1",children:((i=t.repository)==null?void 0:i.description)||"Complete this repository goal"}),e.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500",children:[e.jsxs("span",{children:["â­ ",((n=t.repository)==null?void 0:n.stargazers_count)||0]}),e.jsx("span",{children:((r=t.repository)==null?void 0:r.language)||"Code"})]}),e.jsx("div",{className:"mt-2 text-blue-400 text-xs",children:"ðŸ”„ Commits auto-detected from GitHub"}),t.isCompleted&&e.jsx("div",{className:"mt-2 text-green-400 text-sm font-medium",children:"ðŸŽ‰ Repository goal achieved!"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"Progress"}),e.jsxs("span",{children:[Math.round(s.percentage),"%"]})]}),e.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${s.percentage}%`}})}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Commits:"}),e.jsxs("div",{className:"font-medium",children:[t.currentCommits," / ",t.totalCommitsRequired]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Remaining:"}),e.jsxs("div",{className:"font-medium flex items-center gap-1",children:[e.jsx(H,{className:"w-3 h-3"}),s.remainingDays," days"]})]})]}),e.jsxs("div",{className:"flex gap-2",children:[!t.isCompleted&&t.puzzleType==="image"&&e.jsx("button",{onClick:()=>M(t._id,t.currentCommits+1),className:"flex-1 py-2 bg-blue-600 text-white rounded-md font-medium hover:bg-blue-700 transition-colors text-sm",children:"Add Commit (+1)"}),!t.isCompleted&&t.puzzleType==="repository"&&e.jsx("div",{className:"flex-1 text-center py-2 bg-blue-600/20 text-blue-400 rounded-md font-medium text-sm border border-blue-600/30",children:"ðŸ”„ Auto-Detecting Commits"}),t.isCompleted&&e.jsx("div",{className:"flex-1 text-center py-2 bg-green-600 text-white rounded-md font-medium text-sm",children:"ðŸŽ‰ Completed!"}),e.jsx("button",{onClick:()=>U(t),className:"px-3 py-2 bg-gray-600 text-white rounded-md font-medium hover:bg-gray-700 transition-colors text-sm",title:"Edit Puzzle",children:"âœï¸"}),!t.isCompleted&&e.jsx("button",{onClick:()=>q(t._id),className:"px-3 py-2 bg-orange-600 text-white rounded-md font-medium hover:bg-orange-700 transition-colors text-sm",title:"Extend Deadline (+30 days)",children:"â°"}),e.jsx("button",{onClick:()=>$(t._id),className:"px-3 py-2 bg-red-600 text-white rounded-md font-medium hover:bg-red-700 transition-colors text-sm",title:"Delete Puzzle",children:"ðŸ—‘ï¸"})]})]})]},t._id)})})]})]}),d&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-glass rounded-lg p-6 max-w-md w-full mx-4",children:[e.jsx("h3",{className:"text-lg font-bold mb-4",children:"Edit Puzzle"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Puzzle Name"}),e.jsx("input",{type:"text",value:d.imageName,onChange:t=>h({...d,imageName:t.target.value}),className:"w-full px-3 py-2 bg-gray-800 border border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-white placeholder-gray-400"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Target Commits"}),e.jsx("input",{type:"number",value:d.totalCommitsRequired,onChange:t=>h({...d,totalCommitsRequired:parseInt(t.target.value)}),min:"1",className:"w-full px-3 py-2 bg-gray-800 border border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-white placeholder-gray-400"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Commits Per Day"}),e.jsx("input",{type:"number",value:d.commitsPerDay,onChange:t=>h({...d,commitsPerDay:parseInt(t.target.value)}),min:"1",className:"w-full px-3 py-2 bg-gray-800 border border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-white placeholder-gray-400"})]})]}),e.jsxs("div",{className:"flex gap-3 mt-6",children:[e.jsx("button",{onClick:L,className:"flex-1 py-2 bg-green-600 text-white rounded-md font-medium hover:bg-green-700 transition-colors",children:"Save Changes"}),e.jsx("button",{onClick:Y,className:"flex-1 py-2 bg-gray-600 text-white rounded-md font-medium hover:bg-gray-700 transition-colors",children:"Cancel"})]})]})})]})})};export{Z as default};
